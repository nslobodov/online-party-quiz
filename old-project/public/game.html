<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–≥—Ä–∞ - Horse Quiz</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="css/game.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="/socket.io/socket.io.js"></script>
    <script src="js/socket-manager.js"></script>
    <script src="js/game.js" defer></script>
</head>
<body>
    <div class="background-animation"></div>
    
    <!-- –≠–ö–†–ê–ù –ó–ê–ì–†–£–ó–ö–ò -->
    <div id="loading-screen" class="screen active">
        <div class="loading-container">
            <div class="loading-spinner"></div>
            <h2>–ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –ö –ò–ì–†–ï</h2>
            <p id="loading-message">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º...</p>
            <div class="room-code-display" id="loading-room-code"></div>
        </div>
    </div>
    
    <!-- –≠–ö–†–ê–ù –§–û–¢–û-–í–û–ü–†–û–°–ê -->
    <div id="photo-screen" class="screen">
        <div class="screen-content">
            <div class="game-header">
                <div class="game-info">
                    <div class="question-number">
                        <i class="fas fa-image"></i>
                        <span id="photo-counter">–†–ê–£–ù–î 1/10</span>
                    </div>
                    <div class="timer-container">
                        <!-- –ü—É—Å—Ç–æ - —Ç–∞–π–º–µ—Ä —Ç–µ–ø–µ—Ä—å –≤ —Ñ—É—Ç–µ—Ä–µ -->
                    </div>
                    <div class="room-info">
                        <i class="fas fa-door-closed"></i>
                        <span id="game-room-code">XXX-XXX</span>
                    </div>
                </div>
            </div>
            
            <div class="game-content">
                <div class="photo-question-container">
                    <div class="photo-frame">
                        <!-- –û–†–ò–ì–ò–ù–ê–õ–¨–ù–´–ô –ö–û–î - –£–ë–ò–†–ê–ï–ú –í–°–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø -->
                        <img id="question-photo" src="" alt="–§–æ—Ç–æ –≤–æ–ø—Ä–æ—Å–∞" 
                            style="width: 100%; height: auto; max-width: 100%; max-height: none; object-fit: contain;">
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –≠–ö–†–ê–ù –í–û–ü–†–û–°–ê –° –í–ê–†–ò–ê–ù–¢–ê–ú–ò -->
    <div id="question-screen" class="screen">
        <div class="screen-content">
            <div class="game-header">
                <div class="game-info">
                    <div class="question-number">
                        <i class="fas fa-question-circle"></i>
                        <span id="question-counter">–†–ê–£–ù–î 1/10</span>
                    </div>
                    <div class="timer-container">
                        <div class="timer-circle">
                            <div class="timer-text" id="question-timer">30</div>
                        </div>
                    </div>
                    <div class="room-info">
                        <i class="fas fa-door-closed"></i>
                        <span id="game-room-code2">XXX-XXX</span>
                    </div>
                </div>
            </div>
            
            <div class="game-content">
                <div class="question-container">
                    <h2 class="question-text" id="question-text">–ó–∞–≥—Ä—É–∑–∫–∞ –≤–æ–ø—Ä–æ—Å–∞...</h2>
                    <div class="options-grid" id="options-container">
                        <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –≠–ö–†–ê–ù –õ–ò–î–ï–†–ë–û–†–î–ê -->
    <div id="leaderboard-screen" class="screen">
        <div class="screen-content">
            <div class="game-header">
                <div class="game-info">
                    <div class="question-number">
                        <i class="fas fa-trophy"></i>
                        <span id="leaderboard-counter">–†–ê–£–ù–î 1/10</span>
                    </div>
                    <div class="timer-container">
                        <div class="timer-circle">
                            <div class="timer-text" id="leaderboard-timer">15</div>
                        </div>
                    </div>
                    <div class="room-info">
                        <i class="fas fa-door-closed"></i>
                        <span id="game-room-code3">XXX-XXX</span>
                    </div>
                </div>
            </div>
            
            <div class="game-content">
                <div class="leaderboard-list" id="leaderboard-list">
                    <!-- –ò–≥—Ä–æ–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    <div class="leaderboard-placeholder">
                        <i class="fas fa-trophy" style="font-size: 3rem; color: #f39c12; margin-bottom: 20px;"></i>
                        <p>–ü–æ–¥—Å—á–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –≠–ö–†–ê–ù –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø –û –ü–û–°–õ–ï–î–ù–ï–ú –í–û–ü–†–û–°–ï -->
    <div id="last-question-warning-screen" class="screen">
        <div class="screen-content">
            <div class="warning-container">
                <div class="warning-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <h2>–ü–û–°–õ–ï–î–ù–ò–ô –í–û–ü–†–û–°!</h2>                                
                <div class="countdown-container">
                    <div class="countdown-circle">
                        <div class="countdown-text" id="warning-timer">5</div>
                    </div>
                    <p class="countdown-label">—Å–µ–∫—É–Ω–¥ –¥–æ –Ω–∞—á–∞–ª–∞</p>
                </div>
                
                <div class="current-stats">
                    <div class="stat-item">
                        <span class="stat-label">–¢–µ–∫—É—â–∏–µ –æ—á–∫–∏:</span>
                        <span class="stat-value" id="current-score-warning">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">–¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è:</span>
                        <span class="stat-value" id="current-position-warning">-</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –≠–ö–†–ê–ù –†–ï–ó–£–õ–¨–¢–ê–¢–û–í –ò–ì–†–´ -->
    <div id="results-screen" class="screen">
        <div class="screen-content">
            <div class="results-container">
                <div class="results-header">
                    <i class="fas fa-trophy" style="font-size: 4rem; color: #f39c12; margin-bottom: 20px;"></i>
                    <h1>–ò–ì–†–ê –ó–ê–í–ï–†–®–ï–ù–ê!</h1>
                    <p class="room-code-final">–ö–æ–º–Ω–∞—Ç–∞: <span id="final-room-code">XXX-XXX</span></p>
                </div>
                
                <div class="final-leaderboard">
                    <h2>–§–ò–ù–ê–õ–¨–ù–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´</h2>
                    <div class="final-leaderboard-list" id="final-leaderboard">
                        <!-- –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
                    </div>
                </div>
                
                <div class="your-final-result">
                    <h3>–í–ê–® –†–ï–ó–£–õ–¨–¢–ê–¢</h3>
                    <div class="final-score">
                        <div class="final-score-number" id="final-score">0</div>
                        <div class="final-score-label">–û–ß–ö–û–í</div>
                    </div>
                    <div class="final-position">
                        <i class="fas fa-medal"></i>
                        <span id="final-position">-</span> –º–µ—Å—Ç–æ
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn-secondary" onclick="exitGame()">
                        <i class="fas fa-home"></i> –í—ã–π—Ç–∏ –≤ –ª–æ–±–±–∏
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="game-footer" class="minimal-footer" style="display: none;">
        <div class="progress-container">
            <div id="progress-bar" class="progress-bar" style="width: 100%"></div>
        </div>
        <div class="timer-box">
            <div id="footer-timer" class="timer-display">30</div>
        </div>
    </div>
    <script>
        // –û—Ç–ª–∞–¥–æ—á–Ω—ã–π –∫–æ–¥: –ø—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ñ–æ—Ç–æ:');
            console.log('   #question-photo:', document.getElementById('question-photo'));
            console.log('   #photo-screen:', document.getElementById('photo-screen'));
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ img —ç–ª–µ–º–µ–Ω—Ç—ã
            const allImages = document.querySelectorAll('img');
            console.log('   –í—Å–µ–≥–æ img —ç–ª–µ–º–µ–Ω—Ç–æ–≤:', allImages.length);
            allImages.forEach((img, i) => {
                console.log(`   –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ${i}: id="${img.id}", src="${img.src}"`);
            });
        });
    </script>
    <!-- <script src="js/mobile-optimizer.js"></script> -->
</body>
</html>